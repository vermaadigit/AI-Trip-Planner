const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, PlaceDetails, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a possible 3-day budget-friendly Las Vegas itinerary for a couple, along with hotel options and details, all in JSON format.\n\n```json\n{\n  \"location\": \"Las Vegas\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40- $80 per night\",\n      \"hotelImageUrl\": \"https://example.com/circus_circus.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1369,\n        \"longitude\": -115.1660\n      },\n        \"rating\": 3.5,\n      \"description\": \"A classic Vegas experience with a circus theme, offering affordable rooms and a range of entertainment options, including Adventuredome indoor theme park. This is a budget option but it is located on the strip which will save a lot on transportation cost.\",\n        \"amenities\": [\"Free Parking\", \"Pool\", \"Casino\"]\n    },\n     {\n      \"hotelName\": \"Strat Hotel, Casino & Skypod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50- $90 per night\",\n      \"hotelImageUrl\": \"https://example.com/strat_hotel.jpg\",\n       \"geoCoordinates\": {\n        \"latitude\": 36.1479,\n        \"longitude\": -115.1557\n      },\n        \"rating\": 3.7,\n      \"description\": \"Offering incredible views from the SkyPod observation deck, The STRAT is located towards the northern end of the strip and offers a mix of comfortable accommodation, dining options and entertainment.\",\n         \"amenities\": [\"Pool\", \"Casino\", \"Skypod Access(extra cost)\"]\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50- $100 per night\",\n      \"hotelImageUrl\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0988,\n        \"longitude\": -115.1741\n      },\n       \"rating\": 3.8,\n      \"description\": \"A castle-themed hotel with a medieval vibe, offering family-friendly entertainment, budget-friendly rooms, and various dining options.\",\n         \"amenities\": [\"Pool\", \"Casino\", \"Entertainment\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip\",\n       \"bestTimeToVisit\": \"Evening (for lights and atmosphere)\",\n      \"places\": [\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"A free spectacular water show synchronized to music. The fountains are located in front of Bellagio Hotel.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from most strip hotels\"\n        },\n           {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping, dining, and entertainment district with a variety of options for low price. You can ride the High roller observation wheel\",\n           \"placeImageUrl\": \"https://example.com/linq_promenade.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1167,\n                \"longitude\": -115.1695\n            },\n           \"ticketPricing\": \"Free to walk around\",\n             \"timeToTravel\": \"Walkable from Bellagio Fountains\"\n        },\n           {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"A free show with fire, explosions, and music. Located right in front of the mirage hotel.\",\n          \"placeImageUrl\": \"https://example.com/mirage_volcano.jpg\",\n            \"geoCoordinates\": {\n               \"latitude\": 36.1212,\n                \"longitude\": -115.1730\n            },\n          \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"Walkable from LINQ Promenade\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Exploration and Fremont Experience\",\n      \"bestTimeToVisit\": \"Evening (for the light show)\",\n      \"places\": [\n         {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive video screen canopy, light shows, and street performers. Experience the old vegas charm.\",\n          \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n          \"geoCoordinates\": {\n              \"latitude\": 36.1703,\n              \"longitude\": -115.1400\n            },\n            \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"Bus or Ride-Share from the Strip (approx 20-30 minutes)\"\n        },\n           {\n              \"placeName\": \"Downtown Las Vegas Murals\",\n              \"placeDetails\": \"Explore the downtown area on foot for great street art. You can just take your own path and make your exploration fun.\",\n              \"placeImageUrl\": \"https://example.com/downtown_murals.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1672,\n                  \"longitude\": -115.1455\n                },\n              \"ticketPricing\": \"Free\",\n               \"timeToTravel\": \"Walkable from Fremont Street Experience\"\n        },\n          {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \" An open-air shopping area made from shipping containers with shops, food and a playground.\",\n          \"placeImageUrl\":\"https://example.com/container_park.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1691,\n                 \"longitude\": -115.1394\n               },\n          \"ticketPricing\": \"Free to walk around\",\n           \"timeToTravel\": \"Walkable from Downtown Las Vegas Murals\"\n\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Affordable Entertainment and Departure\",\n       \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n       {\n          \"placeName\": \"M&M's World\",\n          \"placeDetails\": \"A fun and colorful store with 4 levels dedicated to M&M's. Can grab some souvenirs here.\",\n          \"placeImageUrl\": \"https://example.com/mms_world.jpg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1090,\n             \"longitude\": -115.1720\n           },\n            \"ticketPricing\":\"Free to enter\",\n            \"timeToTravel\": \"Walkable from most strip hotels\"\n        },\n        {\n           \"placeName\": \"Explore free hotel attractions\",\n          \"placeDetails\": \"Many hotels offer free attractions, such as the Wildlife Habitat at Flamingo, or the Conservatory at Bellagio, check out other free attractions nearby.\",\n          \"placeImageUrl\": \"https://example.com/hotel_attractions.jpg\",\n          \"geoCoordinates\": {\n              \"latitude\": 36.1167,\n              \"longitude\": -115.1700\n            },\n          \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"Walkable from M&M's World\"\n        },\n        {\n          \"placeName\":\"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\":\"A beautiful place to enjoy the scenic natural views with a drive. You can go for a small hike to enjoy nature.\",\n          \"placeImageUrl\":\"https://example.com/red_rock_canyon.jpg\",\n           \"geoCoordinates\": {\n                \"latitude\": 36.1459,\n                 \"longitude\": -115.4167\n               },\n           \"ticketPricing\":\"$15 Entrance Fee\",\n            \"timeToTravel\":\"Drive from the strip (approx 30 minutes)\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Hotel Prices:** Hotel prices can fluctuate greatly depending on the season, day of the week, and events. Please check current rates on booking sites. The given rates are just an estimate.\n*   **Image URLs:**  Replace `\"https://example.com/...\"` with actual image URLs. You can find these easily using image search.\n*   **Food:** Eating at buffets or cheaper eateries is advisable for saving money on food costs.\n*   **Transportation:** Walking is the best way to see the strip and save money, but consider buses and ride-sharing for longer distances.\n*   **Flexibility:** This is just a suggestion. Feel free to adjust the itinerary to your liking!\n*   **Free Activities:** Las Vegas offers many free or inexpensive activities, like walking the Strip, watching fountain shows, exploring themed hotels, and visiting public parks.\n*   **Entertainment:** Look for discounted shows or free entertainment options.\n\nLet me know if you have any other questions or would like to make changes!\n"},
          ],
        },
      ],
    });

